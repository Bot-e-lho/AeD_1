#include <stdio.h>
#include <stdlib.h>

typedef long key;

typedef struct Registro {
    key num;
} Registro;

typedef struct Node {
    Registro reg;
    struct Node* left;
    struct Node* right;
} Node;

typedef struct Node* apontador;

apontador create(key i) {
    apontador no = (apontador)malloc(sizeof(struct Node));
    if (no != NULL) {
        no->reg.num = i;
        no->left = NULL;
        no->right = NULL;
    }
    return no;
}

void insere(Node** no, key i) {
    if (*no == NULL) {
        *no = create(i);
    } else {
        if (i < (*no)->reg.num) {
            insere(&((*no)->left), i);
        } else {
            insere(&((*no)->right), i);
        }
    }
}

void libera(Node* no) {
    if (no != NULL) {
        libera(no->left);
        libera(no->right);
        free(no);
    }
}

void mostra(Node* no) {
    printf("<");
    if (no != NULL) {
        printf("%ld ", no->reg.num);
        mostra(no->left);
        mostra(no->right);
    }
    printf(">");
}

int main(int argc, char const* argv[]) {
    Node* no = create(30);
    insere(&no, 20);
    insere(&no, 40);
    insere(&no, 10);
    insere(&no, 50);
    insere(&no, 25);
    insere(&no, 35);
    mostra(no);

    libera(no);
    return 0;
}
